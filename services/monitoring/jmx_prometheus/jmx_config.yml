lowercaseOutputLabelNames: true
lowercaseOutputName: true
whitelistObjectNames: 
  - "java.lang:type=OperatingSystem"
  - "java.lang:type=Runtime"
  - "java.lang:type=Threading"
  - "java.lang:type=ClassLoading"
  - "java.lang:type=Memory"
  - "java.lang:type=MemoryPool,*"
  - "java.lang:type=GarbageCollector,*"
  - "java.nio:type=BufferPool,*"
blacklistObjectNames: []
rules:
  # OperatingSystem 规则
  - pattern: 'java.lang<type=OperatingSystem><>CommittedVirtualMemorySize'
    name: os_committed_virtual_memory_bytes
    type: GAUGE
  - pattern: 'java.lang<type=OperatingSystem><>FreePhysicalMemorySize'
    name: os_free_physical_memory_bytes
    type: GAUGE
  - pattern: 'java.lang<type=OperatingSystem><>FreeSwapSpaceSize'
    name: os_free_swap_space_bytes
    type: GAUGE
  - pattern: 'java.lang<type=OperatingSystem><>TotalPhysicalMemorySize'
    name: os_total_physical_memory_bytes
    type: GAUGE
  - pattern: 'java.lang<type=OperatingSystem><>TotalSwapSpaceSize'
    name: os_total_swap_space_bytes
    type: GAUGE
  - pattern: 'java.lang<type=OperatingSystem><>OpenFileDescriptorCount'
    name: os_open_file_descriptor_count
    type: GAUGE
  - pattern: 'java.lang<type=OperatingSystem><>MaxFileDescriptorCount'
    name: os_max_file_descriptor_count
    type: GAUGE
  - pattern: 'java.lang<type=OperatingSystem><>AvailableProcessors'
    name: os_available_processors
    type: GAUGE
  - pattern: 'java.lang<type=OperatingSystem><>SystemCpuLoad'
    name: os_system_cpu_load
    type: GAUGE
  - pattern: 'java.lang<type=OperatingSystem><>ProcessCpuLoad'
    name: os_process_cpu_load
    type: GAUGE
  - pattern: 'java.lang<type=OperatingSystem><>ProcessCpuTime'
    name: os_process_cpu_time
    type: GAUGE

  # Runtime 规则
  - pattern: 'java.lang<type=Runtime><>Uptime'
    name: runtime_uptime
    type: GAUGE
  - pattern: 'java.lang<type=Runtime><>StartTime'
    name: runtime_start_time
    type: GAUGE

  # Threading 规则
  - pattern: 'java.lang<type=Threading><>ThreadCount'
    name: threading_thread_count
    type: GAUGE
  - pattern: 'java.lang<type=Threading><>DaemonThreadCount'
    name: threading_daemon_thread_count
    type: GAUGE
  - pattern: 'java.lang<type=Threading><>PeakThreadCount'
    name: threading_peak_thread_count
    type: GAUGE
  - pattern: 'java.lang<type=Threading><>TotalStartedThreadCount'
    name: threading_total_started_thread_count
    type: COUNTER
  - pattern: 'java.lang<type=Threading><>CurrentThreadCpuTime'
    name: threading_current_thread_cpu_time
    type: GAUGE

  # ClassLoading 规则
  - pattern: 'java.lang<type=ClassLoading><>LoadedClassCount'
    name: classloading_loaded_class_count
    type: GAUGE
  - pattern: 'java.lang<type=ClassLoading><>UnloadedClassCount'
    name: classloading_unloaded_class_count
    type: COUNTER
  - pattern: 'java.lang<type=ClassLoading><>TotalLoadedClassCount'
    name: classloading_total_loaded_class_count
    type: COUNTER

  # Memory 规则
  - pattern: 'java.lang<type=Memory><>HeapMemoryUsage'
    name: memory_heap_usage
    type: GAUGE
    attrNameSnakeCase: true
  - pattern: 'java.lang<type=Memory><>NonHeapMemoryUsage'
    name: memory_nonheap_usage
    type: GAUGE
    attrNameSnakeCase: true

  # MemoryPool 规则
  - pattern: 'java.lang<type=MemoryPool, name=(.+)><>Usage'
    name: memory_pool_usage
    type: GAUGE
    labels:
      pool: "$1"
    attrNameSnakeCase: true

  # GarbageCollector 规则
  - pattern: 'java.lang<type=GarbageCollector, name=(.+)><>CollectionCount'
    name: gc_collection_count
    type: COUNTER
    labels:
      gc: "$1"
  - pattern: 'java.lang<type=GarbageCollector, name=(.+)><>CollectionTime'
    name: gc_collection_time
    type: COUNTER
    labels:
      gc: "$1"